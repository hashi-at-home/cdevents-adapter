[settings]
python.uv_venv_auto = true

[tools]
node = "24.13.1"
python = "3.14.2"
uv = "latest"
prek = "0.3.1"

[env]
_.python.venv = { path = ".venv", create = true }
NODE_ENV = "development"
_.path = ['{{config_root}}/node_modules/.bin']
BIN_PATH = "{{ config_root }}/node_modules/.bin"

[tasks.install-pre-commit]
run = "uv pip install detect-secrets"

[tasks.install]
run = "npm install"
description = "Install dependencies"

[tasks.dev]
run = "npm run dev"
description = "Start development server"

[tasks.build]
run = "npm run build"
description = "Build the project"

[tasks.preview]
run = "npm run preview"
description = "Preview the built project"

[tasks.types]
run = "npm run cf-typegen"
description = "Generate Cloudflare types"

[tasks.test]
run = "npm test"
description = "Run tests in watch mode"

[tasks."test:run"]
run = "npm run test:run"
description = "Run tests once"

[tasks."test:watch"]
run = "npm run test:watch"
description = "Run tests in watch mode"
